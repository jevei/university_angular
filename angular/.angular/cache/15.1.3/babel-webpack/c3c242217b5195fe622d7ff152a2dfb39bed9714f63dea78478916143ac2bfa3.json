{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = function () {\n  return [\"/login\"];\n};\nfunction AppComponent_li_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 7)(1, \"a\", 8);\n    i0.ɵɵtext(2, \"Connexion\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\nconst _c1 = function () {\n  return [\"/signup\"];\n};\nfunction AppComponent_li_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 7)(1, \"a\", 8);\n    i0.ɵɵtext(2, \"Inscription\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c1));\n  }\n}\nconst _c2 = function () {\n  return [\"/profile\"];\n};\nfunction AppComponent_li_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 7)(1, \"a\", 8);\n    i0.ɵɵtext(2, \"Profile\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c2));\n  }\n}\nconst _c3 = function () {\n  return [\"/admin\"];\n};\nfunction AppComponent_li_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 7)(1, \"a\", 8);\n    i0.ɵɵtext(2, \"Pharmacien\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c3));\n  }\n}\nfunction AppComponent_li_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 7)(1, \"a\", 10);\n    i0.ɵɵlistener(\"click\", function AppComponent_li_19_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.logOut());\n    });\n    i0.ɵɵtext(2, \"D\\u00E9connexion\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c4 = function () {\n  return [\"/\"];\n};\nconst _c5 = function (a0) {\n  return {\n    show: a0\n  };\n};\nconst _c6 = function () {\n  return [\"\"];\n};\nconst _c7 = function () {\n  return [\"/products\"];\n};\nexport class AppComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.title = 'JXR';\n    this.navbarOpen = false;\n  }\n  toggleNavbar() {\n    this.navbarOpen = !this.navbarOpen;\n  }\n  isAdmin() {\n    if (this.authService.currentUser?.is_admin) {\n      return true;\n    } else return false;\n  }\n  logOut() {\n    this.authService.userSignout().subscribe(success => {\n      if (success) {\n        console.log('Utilisateur déconnecter');\n        this.router.navigate(['/']);\n      } else {\n        console.log('Erreur', success);\n      }\n    });\n  }\n  isLoggedIn() {\n    return this.authService.isLoggedIn;\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 22,\n  vars: 14,\n  consts: [[\"rel\", \"stylesheet\", \"href\", \"https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css\", \"integrity\", \"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\", \"crossorigin\", \"anonymous\"], [1, \"navbar-brand\", 3, \"routerLink\"], [1, \"navbar\", \"navbar-expand-lg\", \"navbar-light\", \"bg-light\"], [\"type\", \"button\", \"data-toggle\", \"collapse\", \"data-target\", \"#navbarNav\", \"aria-controls\", \"navbarNav\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\", 3, \"click\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarNav\", 1, \"collapse\", \"navbar-collapse\", 3, \"ngClass\"], [1, \"navbar-nav\"], [1, \"nav-item\"], [1, \"nav-link\", 3, \"routerLink\"], [\"class\", \"nav-item\", 4, \"ngIf\"], [1, \"nav-link\", 3, \"click\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"link\", 0);\n      i0.ɵɵelementStart(1, \"a\", 1)(2, \"h1\");\n      i0.ɵɵtext(3, \"EpharmaWeb\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"nav\", 2)(5, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_5_listener() {\n        return ctx.toggleNavbar();\n      });\n      i0.ɵɵelement(6, \"span\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 5)(8, \"ul\", 6)(9, \"li\", 7)(10, \"a\", 8);\n      i0.ɵɵtext(11, \"Acceuil\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(12, AppComponent_li_12_Template, 3, 2, \"li\", 9);\n      i0.ɵɵtemplate(13, AppComponent_li_13_Template, 3, 2, \"li\", 9);\n      i0.ɵɵtemplate(14, AppComponent_li_14_Template, 3, 2, \"li\", 9);\n      i0.ɵɵelementStart(15, \"li\", 7)(16, \"a\", 8);\n      i0.ɵɵtext(17, \"Produits\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(18, AppComponent_li_18_Template, 3, 2, \"li\", 9);\n      i0.ɵɵtemplate(19, AppComponent_li_19_Template, 3, 0, \"li\", 9);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(20, \"div\");\n      i0.ɵɵelement(21, \"router-outlet\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(9, _c4));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(10, _c5, ctx.navbarOpen));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(12, _c6));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn() != true);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn() != true);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn() == true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(13, _c7));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.isAdmin() != false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn() == true);\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgIf, i2.RouterOutlet, i2.RouterLink],\n  styles: [\"body[_ngcontent-%COMP%] {\\r\\n    background-color:#ffffff;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSx3QkFBd0I7QUFDNUIiLCJzb3VyY2VzQ29udGVudCI6WyJib2R5IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6I2ZmZmZmZjtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAiBMA,6BAAqD;IACLA,yBAAS;IAAAA,iBAAI;;;IAAvCA,eAAyB;IAAzBA,uDAAyB;;;;;;;;IAE/CA,6BAAqD;IACJA,2BAAW;IAAAA,iBAAI;;;IAA1CA,eAA0B;IAA1BA,uDAA0B;;;;;;;;IAEhDA,6BAAqD;IACHA,uBAAO;IAAAA,iBAAI;;;IAAvCA,eAA2B;IAA3BA,uDAA2B;;;;;;;;IAKjDA,6BAAmD;IACHA,0BAAU;IAAAA,iBAAI;;;IAAxCA,eAAyB;IAAzBA,uDAAyB;;;;;;IAE/CA,6BAAqD;IAC/BA;MAAAA;MAAA;MAAA,OAASA,8BAAQ;IAAA,EAAC;IAACA,gCAAW;IAAAA,iBAAI;;;;;;;;;;;;;;;;;ACxB9D,OAAM,MAAOC,YAAY;EAIvBC,YAAoBC,WAAwB,EAAUC,MAAc;IAAhD,gBAAW,GAAXD,WAAW;IAAuB,WAAM,GAANC,MAAM;IAH5D,UAAK,GAAG,KAAK;IACb,eAAU,GAAG,KAAK;EAEqD;EAEvEC,YAAY;IACV,IAAI,CAACC,UAAU,GAAG,CAAC,IAAI,CAACA,UAAU;EACpC;EAEAC,OAAO;IACL,IAAI,IAAI,CAACJ,WAAW,CAACK,WAAW,EAAEC,QAAQ,EAAE;MAC1C,OAAO,IAAI;KACZ,MAAM,OAAO,KAAK;EACrB;EAEAC,MAAM;IACJ,IAAI,CAACP,WAAW,CAACQ,WAAW,EAAE,CAACC,SAAS,CAAEC,OAAO,IAAI;MACnD,IAAIA,OAAO,EAAE;QACXC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;QACtC,IAAI,CAACX,MAAM,CAACY,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;OAC5B,MAAM;QACLF,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEF,OAAO,CAAC;;IAElC,CAAC,CAAC;EACJ;EAEAI,UAAU;IACR,OAAO,IAAI,CAACd,WAAW,CAACc,UAAU;EACpC;;AA7BWhB,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;QAAZA,YAAY;EAAAiB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDTzBtB,0BACgH;MAChHA,4BAA6C;MACvCA,0BAAU;MAAAA,iBAAK;MAGrBA,8BAA2D;MAGFA;QAAA,OAASuB,kBAAc;MAAA,EAAC;MAC7EvB,0BAAyC;MAC3CA,iBAAS;MACTA,8BAAsF;MAGxCA,wBAAO;MAAAA,iBAAI;MAErDA,6DAEK;MACLA,6DAEK;MACLA,6DAEK;MACLA,8BAAqB;MAC8BA,yBAAQ;MAAAA,iBAAI;MAE/DA,6DAEK;MACLA,6DAEK;MACPA,iBAAK;MAITA,4BAAK;MACHA,iCAA+B;MACjCA,iBAAM;;;MAvCkBA,eAAoB;MAApBA,uDAAoB;MAUWA,eAAgC;MAAhCA,qEAAgC;MAG3DA,eAAmB;MAAnBA,wDAAmB;MAEnBA,eAA6B;MAA7BA,+CAA6B;MAG7BA,eAA6B;MAA7BA,+CAA6B;MAG7BA,eAA6B;MAA7BA,+CAA6B;MAI7BA,eAA4B;MAA5BA,wDAA4B;MAE5BA,eAA2B;MAA3BA,6CAA2B;MAG3BA,eAA6B;MAA7BA,+CAA6B","names":["i0","AppComponent","constructor","authService","router","toggleNavbar","navbarOpen","isAdmin","currentUser","is_admin","logOut","userSignout","subscribe","success","console","log","navigate","isLoggedIn","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Predator\\Desktop\\université\\session4\\INF1013\\jxr\\src\\app\\components\\app\\app.component.html","C:\\Users\\Predator\\Desktop\\université\\session4\\INF1013\\jxr\\src\\app\\components\\app\\app.component.ts"],"sourcesContent":["<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css\"\r\n  integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\" />\r\n<a class=\"navbar-brand\" [routerLink]=\"['/']\">\r\n  <h1>EpharmaWeb</h1>\r\n</a>\r\n<!-- This nav gives you links to click, which tells the router which route to use (defined in the routes constant in  AppRoutingModule) -->\r\n<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n\r\n  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\"\r\n    aria-expanded=\"false\" aria-label=\"Toggle navigation\" (click)=\"toggleNavbar()\">\r\n    <span class=\"navbar-toggler-icon\"></span>\r\n  </button>\r\n  <div class=\"collapse navbar-collapse\" id=\"navbarNav\" [ngClass]=\"{ show: navbarOpen }\">\r\n    <ul class=\"navbar-nav\">\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\" [routerLink]=\"['']\">Acceuil</a>\r\n      </li>\r\n      <li class=\"nav-item\" *ngIf=\"this.isLoggedIn()!=true\">\r\n        <a class=\"nav-link\" [routerLink]=\"['/login']\">Connexion</a>\r\n      </li>\r\n      <li class=\"nav-item\" *ngIf=\"this.isLoggedIn()!=true\">\r\n        <a class=\"nav-link\" [routerLink]=\"['/signup']\">Inscription</a>\r\n      </li>\r\n      <li class=\"nav-item\" *ngIf=\"this.isLoggedIn()==true\">\r\n        <a class=\"nav-link\" [routerLink]=\"['/profile']\">Profile</a>\r\n      </li>\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\" [routerLink]=\"['/products']\">Produits</a>\r\n      </li>\r\n      <li class=\"nav-item\" *ngIf=\"this.isAdmin()!=false\">\r\n        <a class=\"nav-link\" [routerLink]=\"['/admin']\">Pharmacien</a>\r\n      </li>\r\n      <li class=\"nav-item\" *ngIf=\"this.isLoggedIn()==true\">\r\n        <a class=\"nav-link\" (click)=\"logOut()\">Déconnexion</a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</nav>\r\n<!-- The routed views render in the <router-outlet>-->\r\n<div>\r\n  <router-outlet></router-outlet>\r\n</div>","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css'],\r\n})\r\nexport class AppComponent {\r\n  title = 'JXR';\r\n  navbarOpen = false;\r\n\r\n  constructor(private authService: AuthService, private router: Router) {}\r\n\r\n  toggleNavbar() {\r\n    this.navbarOpen = !this.navbarOpen;\r\n  }\r\n\r\n  isAdmin() {\r\n    if (this.authService.currentUser?.is_admin) {\r\n      return true;\r\n    } else return false;\r\n  }\r\n\r\n  logOut() {\r\n    this.authService.userSignout().subscribe((success) => {\r\n      if (success) {\r\n        console.log('Utilisateur déconnecter');\r\n        this.router.navigate(['/']);\r\n      } else {\r\n        console.log('Erreur', success);\r\n      }\r\n    });\r\n  }\r\n\r\n  isLoggedIn(): boolean {\r\n    return this.authService.isLoggedIn;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}